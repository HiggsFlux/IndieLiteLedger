import{d as N,an as E,ao as G,r as H,ag as P,ap as W,a as Y,c as $,o as b,w as t,f as l,y as j,e as p,b as g,p as X,a4 as Z,a5 as z,_ as J,a2 as K,a3 as Q,q as h,ah as ee,W as V,X as le,ai as ae,S as te,t as oe,aq as ne,g as v,Y as ue,Z as se,E as de,ar as re,ad as U}from"./index-CN2tD0BG.js";import{e as me,u as pe}from"./client-RQjbOwKz.js";const ie={class:"bg-gray-50 p-4 rounded mb-4"},_e={class:"flex items-center gap-1"},fe={class:"flex items-center gap-1"},be={class:"text-xs text-gray-400 ml-2"},ce={class:"flex items-center gap-1 font-bold text-gray-600"},ve=N({name:"customer_list_modules",__name:"ClientOperateDialog",props:E({operateType:{},rowData:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:E(["submitted"],["update:visible"]),setup(w,{emit:C}){const m=w,D=C,_=G(w,"visible"),k=H(),e=P({type:0,status:0,level:1,name:"",wechat:"",phone:"",contact_person:"",position:"",email:"",remark:"",source:"",tags:[],telegram:"",website:"",tech_tags:[],tax_code:"",bank_name:"",bank_account:"",reg_address:"",contact_role:""}),O=[{label:"å®˜ç½‘è¯•ç”¨ (SEO)",value:"WEB_TRIAL"},{label:"æŠ€æœ¯ç¤¾åŒº (GitHub/ç¾¤)",value:"COMMUNITY"},{label:"ç¤¾äº¤è½¯ä»¶",value:"SOCIAL_MEDIA"},{label:"é—²é±¼/æ·˜å®",value:"ECOMMERCE"},{label:"çº¿ä¸‹/æœ‹å‹ä»‹ç»",value:"OFFLINE"},{label:"å…¶ä»–",value:"OTHER"}];W(()=>_.value,d=>{if(d)if(m.operateType==="edit"&&m.rowData){Object.assign(e,m.rowData);const a=m.rowData.extra_info||{};e.telegram=a.telegram||"",e.website=a.website||"",e.tech_tags=a.tech_tags||[],e.tax_code=a.tax_code||"",e.bank_name=a.bank_name||"",e.bank_account=a.bank_account||"",e.reg_address=a.reg_address||"",e.contact_role=a.contact_role||""}else e.type=0,e.status=0,e.level=1,e.name="",e.wechat="",e.phone="",e.contact_person="",e.position="",e.email="",e.remark="",e.source="",e.tags=[],e.telegram="",e.website="",e.tech_tags=[],e.tax_code="",e.bank_name="",e.bank_account="",e.reg_address="",e.contact_role=""});const T=Y(()=>{const d={name:[{required:!0,message:e.type===0?"è¯·è¾“å…¥æ˜µç§°":"è¯·è¾“å…¥å…¬å¸å…¨ç§°",trigger:"blur"}]};return e.type===0?{...d,wechat:[{required:!0,message:"è¯·è¾“å…¥å¾®ä¿¡å·",trigger:"blur"}]}:{...d,contact_person:[{required:!0,message:"è¯·è¾“å…¥è”ç³»äººå§“å",trigger:"blur"}],phone:[{required:!0,message:"è¯·è¾“å…¥æ‰‹æœºå·",trigger:"blur"}]}});function B(d){return d&&["æ— å…³ç´§è¦","ä¸€èˆ¬æ½œå®¢","æ„å‘å¼ºçƒˆ","é‡ç‚¹è·Ÿè¿›","æˆ˜ç•¥å®¢æˆ·"][d-1]||""}async function I(){await k.value?.validate();const d={type:e.type,status:e.status,level:e.level,name:e.name,wechat:e.wechat,phone:e.phone,contact_person:e.contact_person,position:e.position,email:e.email,remark:e.remark,source:e.source,tags:e.tags,extra_info:{telegram:e.telegram,website:e.website,tech_tags:e.tech_tags,tax_code:e.tax_code,bank_name:e.bank_name,bank_account:e.bank_account,reg_address:e.reg_address,contact_role:e.contact_role}};m.operateType==="add"?(await me(d),U.success("åˆ›å»ºæˆåŠŸ")):m.operateType==="edit"&&m.rowData?.id&&(await pe(m.rowData.id,d),U.success("æ›´æ–°æˆåŠŸ")),_.value=!1,D("submitted")}return(d,a)=>{const f=J,y=z,R=Z,n=X,s=h,u=Q,i=ae,c=ee,r=K,F=te,M=ne,S=se,q=ue,A=j,x=de,L=re;return b(),$(L,{modelValue:_.value,"onUpdate:modelValue":a[21]||(a[21]=o=>_.value=o),title:d.operateType==="add"?"æ–°å¢å®¢æˆ·":"ç¼–è¾‘å®¢æˆ·",width:"700px",top:"5vh"},{footer:t(()=>[l(x,{onClick:a[20]||(a[20]=o=>_.value=!1)},{default:t(()=>[...a[26]||(a[26]=[v("å–æ¶ˆ",-1)])]),_:1}),l(x,{type:"primary",onClick:I},{default:t(()=>[...a[27]||(a[27]=[v("ç¡®è®¤",-1)])]),_:1})]),default:t(()=>[l(A,{ref_key:"formRef",ref:k,model:e,rules:T.value,"label-width":"100px"},{default:t(()=>[p("div",ie,[l(n,{label:"å®¢æˆ·ç±»å‹",prop:"type"},{default:t(()=>[l(R,{modelValue:e.type,"onUpdate:modelValue":a[0]||(a[0]=o=>e.type=o)},{default:t(()=>[l(y,{value:0},{default:t(()=>[p("div",_e,[l(f,{icon:"carbon:user"}),a[22]||(a[22]=p("span",null,"ä¸ªäºº",-1))])]),_:1}),l(y,{value:1},{default:t(()=>[p("div",fe,[l(f,{icon:"carbon:enterprise"}),a[23]||(a[23]=p("span",null,"ä¼ä¸šå®¢æˆ·",-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:e.type===1?"å…¬å¸å…¨ç§°":"æ˜µç§°/ID",prop:"name"},{default:t(()=>[l(s,{modelValue:e.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.name=o),placeholder:e.type===1?"è¯·è¾“å…¥å…¬å¸å…¨ç§°":"è¯·è¾“å…¥æ˜µç§°"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"å®¢æˆ·æ¥æº",prop:"source"},{default:t(()=>[l(c,{modelValue:e.source,"onUpdate:modelValue":a[2]||(a[2]=o=>e.source=o),placeholder:"å“ªé‡Œè®¤è¯†çš„?",clearable:""},{default:t(()=>[(b(),g(V,null,le(O,o=>l(i,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"å®¢æˆ·çŠ¶æ€",prop:"status"},{default:t(()=>[l(c,{modelValue:e.status,"onUpdate:modelValue":a[3]||(a[3]=o=>e.status=o)},{default:t(()=>[l(i,{value:0,label:"ğŸ”µ çº¿ç´¢/è¯¢å•"}),l(i,{value:1,label:"ğŸŸ£ è¯•ç”¨/POC"}),l(i,{value:2,label:"ğŸŸ¢ æ­£å¼æˆäº¤"}),l(i,{value:3,label:"ğŸŸ¡ æµå¤±/è¿‡æœŸ"}),l(i,{value:9,label:"ğŸ”´ é»‘åå•"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"æ„å‘ç­‰çº§"},{default:t(()=>[l(F,{modelValue:e.level,"onUpdate:modelValue":a[4]||(a[4]=o=>e.level=o),colors:["#99A9BF","#F7BA2A","#FF9900"]},null,8,["modelValue"]),p("span",be,oe(B(e.level)),1)]),_:1})]),_:1})]),_:1})]),l(M,{"content-position":"left"},{default:t(()=>[...a[24]||(a[24]=[v("æ·±åº¦è”ç³»",-1)])]),_:1}),e.type===0?(b(),g(V,{key:0},[l(n,{label:"æ ‡ç­¾"},{default:t(()=>[l(c,{modelValue:e.tech_tags,"onUpdate:modelValue":a[5]||(a[5]=o=>e.tech_tags=o),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"è¾“å…¥æ ‡ç­¾å›è½¦ (å¦‚: Python, çˆ¬è™«)"},null,8,["modelValue"])]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"å¾®ä¿¡å·",prop:"wechat"},{default:t(()=>[l(s,{modelValue:e.wechat,"onUpdate:modelValue":a[6]||(a[6]=o=>e.wechat=o),placeholder:"å¿…å¡«"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"æ‰‹æœºå·"},{default:t(()=>[l(s,{modelValue:e.phone,"onUpdate:modelValue":a[7]||(a[7]=o=>e.phone=o),placeholder:"æ‰‹æœºå·"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"Telegram"},{default:t(()=>[l(s,{modelValue:e.telegram,"onUpdate:modelValue":a[8]||(a[8]=o=>e.telegram=o),placeholder:"@username"},{prefix:t(()=>[l(f,{icon:"mdi:telegram",class:"text-lg"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"é‚®ç®±"},{default:t(()=>[l(s,{modelValue:e.email,"onUpdate:modelValue":a[9]||(a[9]=o=>e.email=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:24},{default:t(()=>[l(n,{label:"ç½‘å€"},{default:t(()=>[l(s,{modelValue:e.website,"onUpdate:modelValue":a[10]||(a[10]=o=>e.website=o),placeholder:"GitHub/ä¸ªäººç½‘ç«™"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})],64)):(b(),g(V,{key:1},[l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"å¯¹æ¥äºº",prop:"contact_person"},{default:t(()=>[l(s,{modelValue:e.contact_person,"onUpdate:modelValue":a[11]||(a[11]=o=>e.contact_person=o),placeholder:"å§“å"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"èŒä½/è§’è‰²"},{default:t(()=>[l(s,{modelValue:e.contact_role,"onUpdate:modelValue":a[12]||(a[12]=o=>e.contact_role=o),placeholder:"å¦‚: CTO, é‡‡è´­ç»ç†"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"æ‰‹æœºå·",prop:"phone"},{default:t(()=>[l(s,{modelValue:e.phone,"onUpdate:modelValue":a[13]||(a[13]=o=>e.phone=o),placeholder:"å¿…å¡«"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"å¾®ä¿¡å·"},{default:t(()=>[l(s,{modelValue:e.wechat,"onUpdate:modelValue":a[14]||(a[14]=o=>e.wechat=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(q,{class:"mt-4 mb-4 border-t-0","model-value":["1"]},{default:t(()=>[l(S,{name:"1"},{title:t(()=>[p("div",ce,[l(f,{icon:"carbon:folder"}),a[25]||(a[25]=p("span",null,"è´¢åŠ¡å¼€ç¥¨ä¿¡æ¯ (é€‰å¡«)",-1))])]),default:t(()=>[l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"ç¨å·"},{default:t(()=>[l(s,{modelValue:e.tax_code,"onUpdate:modelValue":a[15]||(a[15]=o=>e.tax_code=o),placeholder:"ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç "},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"å¼€æˆ·è¡Œ"},{default:t(()=>[l(s,{modelValue:e.bank_name,"onUpdate:modelValue":a[16]||(a[16]=o=>e.bank_name=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{gutter:20},{default:t(()=>[l(u,{span:12},{default:t(()=>[l(n,{label:"é“¶è¡Œè´¦å·"},{default:t(()=>[l(s,{modelValue:e.bank_account,"onUpdate:modelValue":a[17]||(a[17]=o=>e.bank_account=o)},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:12},{default:t(()=>[l(n,{label:"æ³¨å†Œåœ°å€"},{default:t(()=>[l(s,{modelValue:e.reg_address,"onUpdate:modelValue":a[18]||(a[18]=o=>e.reg_address=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)),l(n,{label:"å¤‡æ³¨",prop:"remark"},{default:t(()=>[l(s,{modelValue:e.remark,"onUpdate:modelValue":a[19]||(a[19]=o=>e.remark=o),type:"textarea",rows:2,placeholder:"å…¶ä»–é‡è¦ä¿¡æ¯..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{ve as _};
